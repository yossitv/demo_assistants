"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinuxLambdaBuildImage=void 0;var jsiiDeprecationWarnings=()=>{var tmp=require("../../.warnings.jsii.js");return jsiiDeprecationWarnings=()=>tmp,tmp};const JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti");var compute_type_1=()=>{var tmp=require("./compute-type");return compute_type_1=()=>tmp,tmp},is_lambda_compute_type_1=()=>{var tmp=require("./is-lambda-compute-type");return is_lambda_compute_type_1=()=>tmp,tmp},run_script_linux_build_spec_1=()=>{var tmp=require("./private/run-script-linux-build-spec");return run_script_linux_build_spec_1=()=>tmp,tmp};class LinuxLambdaBuildImage{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_codebuild.LinuxLambdaBuildImage",version:"2.230.0"};static AMAZON_LINUX_2_NODE_18=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:nodejs18");static AMAZON_LINUX_2023_NODE_20=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:nodejs20");static AMAZON_LINUX_2023_NODE_22=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:nodejs22");static AMAZON_LINUX_2_PYTHON_3_11=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:python3.11");static AMAZON_LINUX_2023_PYTHON_3_12=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:python3.12");static AMAZON_LINUX_2023_PYTHON_3_13=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:python3.13");static AMAZON_LINUX_2_RUBY_3_2=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:ruby3.2");static AMAZON_LINUX_2023_RUBY_3_4=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:ruby3.4");static AMAZON_LINUX_2023_CORRETTO_21=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:corretto21");static AMAZON_LINUX_2_CORRETTO_17=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:corretto17");static AMAZON_LINUX_2_CORRETTO_11=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:corretto11");static AMAZON_LINUX_2_GO_1_21=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:go1.21");static AMAZON_LINUX_2023_GO_1_24=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:go1.24");static AMAZON_LINUX_2_DOTNET_6=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:dotnet6");static AMAZON_LINUX_2023_DOTNET_8=LinuxLambdaBuildImage.fromCodeBuildImageId("aws/codebuild/amazonlinux-x86_64-lambda-standard:dotnet8");static fromCodeBuildImageId(id){return new LinuxLambdaBuildImage({imageId:id})}type="LINUX_LAMBDA_CONTAINER";defaultComputeType=compute_type_1().ComputeType.LAMBDA_1GB;imageId;constructor(props){this.imageId=props.imageId}validate(buildEnvironment){try{jsiiDeprecationWarnings().aws_cdk_lib_aws_codebuild_BuildEnvironment(buildEnvironment)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.validate),error}const errors=[];return buildEnvironment.privileged&&errors.push("Lambda compute type does not support privileged mode"),buildEnvironment.computeType&&!(0,is_lambda_compute_type_1().isLambdaComputeType)(buildEnvironment.computeType)&&errors.push(["Lambda images only support Lambda ComputeTypes between",`'${compute_type_1().ComputeType.LAMBDA_1GB}'`,"and",`'${compute_type_1().ComputeType.LAMBDA_10GB}',`,`got '${buildEnvironment.computeType}'`].join(" ")),errors}runScriptBuildspec(entrypoint){return(0,run_script_linux_build_spec_1().runScriptLinuxBuildSpec)(entrypoint)}}exports.LinuxLambdaBuildImage=LinuxLambdaBuildImage;
