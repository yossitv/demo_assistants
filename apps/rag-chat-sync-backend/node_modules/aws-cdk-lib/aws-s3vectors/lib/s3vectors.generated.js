"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnVectorBucketPolicy=exports.CfnVectorBucket=exports.CfnIndex=void 0;var jsiiDeprecationWarnings=()=>{var tmp=require("../../.warnings.jsii.js");return jsiiDeprecationWarnings=()=>tmp,tmp};const JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti");var cdk=()=>{var tmp=require("../../core/lib");return cdk=()=>tmp,tmp},cfn_parse=()=>{var tmp=require("../../core/lib/helpers-internal");return cfn_parse=()=>tmp,tmp},cdk_errors=()=>{var tmp=require("../../core/lib/errors");return cdk_errors=()=>tmp,tmp};class CfnIndex extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_s3vectors.CfnIndex",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::S3Vectors::Index";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnIndexPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnIndex(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}static arnForIndex(resource){try{jsiiDeprecationWarnings().aws_cdk_lib_interfaces_aws_s3vectors_IIndexRef(resource)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.arnForIndex),error}return resource.indexRef.indexArn}attrCreationTime;attrIndexArn;dataType;dimension;distanceMetric;indexName;metadataConfiguration;vectorBucketArn;vectorBucketName;constructor(scope,id,props){super(scope,id,{type:CfnIndex.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_s3vectors_CfnIndexProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnIndex),error}cdk().requireProperty(props,"dataType",this),cdk().requireProperty(props,"dimension",this),cdk().requireProperty(props,"distanceMetric",this),this.attrCreationTime=cdk().Token.asString(this.getAtt("CreationTime",cdk().ResolutionTypeHint.STRING)),this.attrIndexArn=cdk().Token.asString(this.getAtt("IndexArn",cdk().ResolutionTypeHint.STRING)),this.dataType=props.dataType,this.dimension=props.dimension,this.distanceMetric=props.distanceMetric,this.indexName=props.indexName,this.metadataConfiguration=props.metadataConfiguration,this.vectorBucketArn=props.vectorBucketArn,this.vectorBucketName=props.vectorBucketName}get indexRef(){return{indexArn:this.ref}}get cfnProperties(){return{dataType:this.dataType,dimension:this.dimension,distanceMetric:this.distanceMetric,indexName:this.indexName,metadataConfiguration:this.metadataConfiguration,vectorBucketArn:this.vectorBucketArn,vectorBucketName:this.vectorBucketName}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnIndex.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnIndexPropsToCloudFormation(props)}}exports.CfnIndex=CfnIndex;function CfnIndexMetadataConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("nonFilterableMetadataKeys",cdk().listValidator(cdk().validateString))(properties.nonFilterableMetadataKeys)),errors.wrap('supplied properties not correct for "MetadataConfigurationProperty"')}function convertCfnIndexMetadataConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnIndexMetadataConfigurationPropertyValidator(properties).assertSuccess(),{NonFilterableMetadataKeys:cdk().listMapper(cdk().stringToCloudFormation)(properties.nonFilterableMetadataKeys)}):properties}function CfnIndexMetadataConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("nonFilterableMetadataKeys","NonFilterableMetadataKeys",properties.NonFilterableMetadataKeys!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.NonFilterableMetadataKeys):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnIndexPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("dataType",cdk().requiredValidator)(properties.dataType)),errors.collect(cdk().propertyValidator("dataType",cdk().validateString)(properties.dataType)),errors.collect(cdk().propertyValidator("dimension",cdk().requiredValidator)(properties.dimension)),errors.collect(cdk().propertyValidator("dimension",cdk().validateNumber)(properties.dimension)),errors.collect(cdk().propertyValidator("distanceMetric",cdk().requiredValidator)(properties.distanceMetric)),errors.collect(cdk().propertyValidator("distanceMetric",cdk().validateString)(properties.distanceMetric)),errors.collect(cdk().propertyValidator("indexName",cdk().validateString)(properties.indexName)),errors.collect(cdk().propertyValidator("metadataConfiguration",CfnIndexMetadataConfigurationPropertyValidator)(properties.metadataConfiguration)),errors.collect(cdk().propertyValidator("vectorBucketArn",cdk().validateString)(properties.vectorBucketArn)),errors.collect(cdk().propertyValidator("vectorBucketName",cdk().validateString)(properties.vectorBucketName)),errors.wrap('supplied properties not correct for "CfnIndexProps"')}function convertCfnIndexPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnIndexPropsValidator(properties).assertSuccess(),{DataType:cdk().stringToCloudFormation(properties.dataType),Dimension:cdk().numberToCloudFormation(properties.dimension),DistanceMetric:cdk().stringToCloudFormation(properties.distanceMetric),IndexName:cdk().stringToCloudFormation(properties.indexName),MetadataConfiguration:convertCfnIndexMetadataConfigurationPropertyToCloudFormation(properties.metadataConfiguration),VectorBucketArn:cdk().stringToCloudFormation(properties.vectorBucketArn),VectorBucketName:cdk().stringToCloudFormation(properties.vectorBucketName)}):properties}function CfnIndexPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("dataType","DataType",properties.DataType!=null?cfn_parse().FromCloudFormation.getString(properties.DataType):void 0),ret.addPropertyResult("dimension","Dimension",properties.Dimension!=null?cfn_parse().FromCloudFormation.getNumber(properties.Dimension):void 0),ret.addPropertyResult("distanceMetric","DistanceMetric",properties.DistanceMetric!=null?cfn_parse().FromCloudFormation.getString(properties.DistanceMetric):void 0),ret.addPropertyResult("indexName","IndexName",properties.IndexName!=null?cfn_parse().FromCloudFormation.getString(properties.IndexName):void 0),ret.addPropertyResult("metadataConfiguration","MetadataConfiguration",properties.MetadataConfiguration!=null?CfnIndexMetadataConfigurationPropertyFromCloudFormation(properties.MetadataConfiguration):void 0),ret.addPropertyResult("vectorBucketArn","VectorBucketArn",properties.VectorBucketArn!=null?cfn_parse().FromCloudFormation.getString(properties.VectorBucketArn):void 0),ret.addPropertyResult("vectorBucketName","VectorBucketName",properties.VectorBucketName!=null?cfn_parse().FromCloudFormation.getString(properties.VectorBucketName):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnVectorBucket extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_s3vectors.CfnVectorBucket",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::S3Vectors::VectorBucket";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnVectorBucketPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnVectorBucket(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}static arnForVectorBucket(resource){try{jsiiDeprecationWarnings().aws_cdk_lib_interfaces_aws_s3vectors_IVectorBucketRef(resource)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.arnForVectorBucket),error}return resource.vectorBucketRef.vectorBucketArn}attrCreationTime;attrVectorBucketArn;encryptionConfiguration;vectorBucketName;constructor(scope,id,props={}){super(scope,id,{type:CfnVectorBucket.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_s3vectors_CfnVectorBucketProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnVectorBucket),error}this.attrCreationTime=cdk().Token.asString(this.getAtt("CreationTime",cdk().ResolutionTypeHint.STRING)),this.attrVectorBucketArn=cdk().Token.asString(this.getAtt("VectorBucketArn",cdk().ResolutionTypeHint.STRING)),this.encryptionConfiguration=props.encryptionConfiguration,this.vectorBucketName=props.vectorBucketName}get vectorBucketRef(){return{vectorBucketArn:this.ref}}get cfnProperties(){return{encryptionConfiguration:this.encryptionConfiguration,vectorBucketName:this.vectorBucketName}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnVectorBucket.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnVectorBucketPropsToCloudFormation(props)}}exports.CfnVectorBucket=CfnVectorBucket;function CfnVectorBucketEncryptionConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("kmsKeyArn",cdk().validateString)(properties.kmsKeyArn)),errors.collect(cdk().propertyValidator("sseType",cdk().validateString)(properties.sseType)),errors.wrap('supplied properties not correct for "EncryptionConfigurationProperty"')}function convertCfnVectorBucketEncryptionConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnVectorBucketEncryptionConfigurationPropertyValidator(properties).assertSuccess(),{KmsKeyArn:cdk().stringToCloudFormation(properties.kmsKeyArn),SseType:cdk().stringToCloudFormation(properties.sseType)}):properties}function CfnVectorBucketEncryptionConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("kmsKeyArn","KmsKeyArn",properties.KmsKeyArn!=null?cfn_parse().FromCloudFormation.getString(properties.KmsKeyArn):void 0),ret.addPropertyResult("sseType","SseType",properties.SseType!=null?cfn_parse().FromCloudFormation.getString(properties.SseType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnVectorBucketPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("encryptionConfiguration",CfnVectorBucketEncryptionConfigurationPropertyValidator)(properties.encryptionConfiguration)),errors.collect(cdk().propertyValidator("vectorBucketName",cdk().validateString)(properties.vectorBucketName)),errors.wrap('supplied properties not correct for "CfnVectorBucketProps"')}function convertCfnVectorBucketPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnVectorBucketPropsValidator(properties).assertSuccess(),{EncryptionConfiguration:convertCfnVectorBucketEncryptionConfigurationPropertyToCloudFormation(properties.encryptionConfiguration),VectorBucketName:cdk().stringToCloudFormation(properties.vectorBucketName)}):properties}function CfnVectorBucketPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("encryptionConfiguration","EncryptionConfiguration",properties.EncryptionConfiguration!=null?CfnVectorBucketEncryptionConfigurationPropertyFromCloudFormation(properties.EncryptionConfiguration):void 0),ret.addPropertyResult("vectorBucketName","VectorBucketName",properties.VectorBucketName!=null?cfn_parse().FromCloudFormation.getString(properties.VectorBucketName):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnVectorBucketPolicy extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_s3vectors.CfnVectorBucketPolicy",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::S3Vectors::VectorBucketPolicy";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnVectorBucketPolicyPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnVectorBucketPolicy(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}policy;vectorBucketArn;vectorBucketName;constructor(scope,id,props){super(scope,id,{type:CfnVectorBucketPolicy.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_s3vectors_CfnVectorBucketPolicyProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnVectorBucketPolicy),error}cdk().requireProperty(props,"policy",this),this.policy=props.policy,this.vectorBucketArn=props.vectorBucketArn,this.vectorBucketName=props.vectorBucketName}get vectorBucketPolicyRef(){return{vectorBucketArn:this.ref}}get cfnProperties(){return{policy:this.policy,vectorBucketArn:this.vectorBucketArn,vectorBucketName:this.vectorBucketName}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnVectorBucketPolicy.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnVectorBucketPolicyPropsToCloudFormation(props)}}exports.CfnVectorBucketPolicy=CfnVectorBucketPolicy;function CfnVectorBucketPolicyPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("policy",cdk().requiredValidator)(properties.policy)),errors.collect(cdk().propertyValidator("policy",cdk().unionValidator(cdk().validateString,cdk().validateObject))(properties.policy)),errors.collect(cdk().propertyValidator("vectorBucketArn",cdk().validateString)(properties.vectorBucketArn)),errors.collect(cdk().propertyValidator("vectorBucketName",cdk().validateString)(properties.vectorBucketName)),errors.wrap('supplied properties not correct for "CfnVectorBucketPolicyProps"')}function convertCfnVectorBucketPolicyPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnVectorBucketPolicyPropsValidator(properties).assertSuccess(),{Policy:cdk().unionMapper([cdk().validateString,cdk().validateObject],[cdk().stringToCloudFormation,cdk().objectToCloudFormation])(properties.policy),VectorBucketArn:cdk().stringToCloudFormation(properties.vectorBucketArn),VectorBucketName:cdk().stringToCloudFormation(properties.vectorBucketName)}):properties}function CfnVectorBucketPolicyPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("policy","Policy",properties.Policy!=null?cfn_parse().FromCloudFormation.getTypeUnion([cdk().validateString,cdk().validateObject],[cfn_parse().FromCloudFormation.getString,cfn_parse().FromCloudFormation.getAny])(properties.Policy):void 0),ret.addPropertyResult("vectorBucketArn","VectorBucketArn",properties.VectorBucketArn!=null?cfn_parse().FromCloudFormation.getString(properties.VectorBucketArn):void 0),ret.addPropertyResult("vectorBucketName","VectorBucketName",properties.VectorBucketName!=null?cfn_parse().FromCloudFormation.getString(properties.VectorBucketName):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
