"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnSigningConfiguration=exports.CfnRepositoryCreationTemplate=exports.CfnRegistryScanningConfiguration=exports.CfnPullTimeUpdateExclusion=exports.CfnRepository=exports.CfnReplicationConfiguration=exports.CfnRegistryPolicy=exports.CfnPullThroughCacheRule=exports.CfnPublicRepository=void 0;var jsiiDeprecationWarnings=()=>{var tmp=require("../../.warnings.jsii.js");return jsiiDeprecationWarnings=()=>tmp,tmp};const JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti");var cdk=()=>{var tmp=require("../../core/lib");return cdk=()=>tmp,tmp},cfn_parse=()=>{var tmp=require("../../core/lib/helpers-internal");return cfn_parse=()=>tmp,tmp},cdk_errors=()=>{var tmp=require("../../core/lib/errors");return cdk_errors=()=>tmp,tmp};class CfnPublicRepository extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnPublicRepository",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::PublicRepository";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnPublicRepositoryPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnPublicRepository(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}static fromPublicRepositoryArn(scope,id,arn){class Import extends cdk().Resource{publicRepositoryRef;constructor(scope2,id2,arn2){super(scope2,id2,{environmentFromArn:arn2});const variables=new(cfn_parse()).TemplateString("arn:${Partition}:ecr-public::${Account}:repository/${RepositoryName}").parse(arn2);this.publicRepositoryRef={repositoryName:variables.RepositoryName,publicRepositoryArn:arn2}}}return new Import(scope,id,arn)}static fromRepositoryName(scope,id,repositoryName){class Import extends cdk().Resource{publicRepositoryRef;constructor(scope2,id2,repositoryName2){const arn=new(cfn_parse()).TemplateString("arn:${Partition}:ecr-public::${Account}:repository/${RepositoryName}").interpolate({Partition:cdk().Stack.of(scope2).partition,Region:cdk().Stack.of(scope2).region,Account:cdk().Stack.of(scope2).account,RepositoryName:repositoryName2});super(scope2,id2,{environmentFromArn:arn}),this.publicRepositoryRef={repositoryName:repositoryName2,publicRepositoryArn:arn}}}return new Import(scope,id,repositoryName)}static arnForPublicRepository(resource){try{jsiiDeprecationWarnings().aws_cdk_lib_interfaces_aws_ecr_IPublicRepositoryRef(resource)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.arnForPublicRepository),error}return resource.publicRepositoryRef.publicRepositoryArn}attrArn;repositoryCatalogData;repositoryName;repositoryPolicyText;tags;tagsRaw;constructor(scope,id,props={}){super(scope,id,{type:CfnPublicRepository.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnPublicRepositoryProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnPublicRepository),error}this.attrArn=cdk().Token.asString(this.getAtt("Arn",cdk().ResolutionTypeHint.STRING)),this.repositoryCatalogData=props.repositoryCatalogData,this.repositoryName=props.repositoryName,this.repositoryPolicyText=props.repositoryPolicyText,this.tags=new(cdk()).TagManager(cdk().TagType.STANDARD,"AWS::ECR::PublicRepository",props.tags,{tagPropertyName:"tags"}),this.tagsRaw=props.tags}get publicRepositoryRef(){return{repositoryName:this.ref,publicRepositoryArn:this.attrArn}}get cfnProperties(){return{repositoryCatalogData:this.repositoryCatalogData,repositoryName:this.repositoryName,repositoryPolicyText:this.repositoryPolicyText,tags:this.tags.renderTags()}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnPublicRepository.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnPublicRepositoryPropsToCloudFormation(props)}}exports.CfnPublicRepository=CfnPublicRepository;function CfnPublicRepositoryRepositoryCatalogDataPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("aboutText",cdk().validateString)(properties.aboutText)),errors.collect(cdk().propertyValidator("architectures",cdk().listValidator(cdk().validateString))(properties.architectures)),errors.collect(cdk().propertyValidator("operatingSystems",cdk().listValidator(cdk().validateString))(properties.operatingSystems)),errors.collect(cdk().propertyValidator("repositoryDescription",cdk().validateString)(properties.repositoryDescription)),errors.collect(cdk().propertyValidator("usageText",cdk().validateString)(properties.usageText)),errors.wrap('supplied properties not correct for "RepositoryCatalogDataProperty"')}function convertCfnPublicRepositoryRepositoryCatalogDataPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnPublicRepositoryRepositoryCatalogDataPropertyValidator(properties).assertSuccess(),{AboutText:cdk().stringToCloudFormation(properties.aboutText),Architectures:cdk().listMapper(cdk().stringToCloudFormation)(properties.architectures),OperatingSystems:cdk().listMapper(cdk().stringToCloudFormation)(properties.operatingSystems),RepositoryDescription:cdk().stringToCloudFormation(properties.repositoryDescription),UsageText:cdk().stringToCloudFormation(properties.usageText)}):properties}function CfnPublicRepositoryRepositoryCatalogDataPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("aboutText","AboutText",properties.AboutText!=null?cfn_parse().FromCloudFormation.getString(properties.AboutText):void 0),ret.addPropertyResult("architectures","Architectures",properties.Architectures!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.Architectures):void 0),ret.addPropertyResult("operatingSystems","OperatingSystems",properties.OperatingSystems!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.OperatingSystems):void 0),ret.addPropertyResult("repositoryDescription","RepositoryDescription",properties.RepositoryDescription!=null?cfn_parse().FromCloudFormation.getString(properties.RepositoryDescription):void 0),ret.addPropertyResult("usageText","UsageText",properties.UsageText!=null?cfn_parse().FromCloudFormation.getString(properties.UsageText):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnPublicRepositoryPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("repositoryCatalogData",cdk().validateObject)(properties.repositoryCatalogData)),errors.collect(cdk().propertyValidator("repositoryName",cdk().validateString)(properties.repositoryName)),errors.collect(cdk().propertyValidator("repositoryPolicyText",cdk().validateObject)(properties.repositoryPolicyText)),errors.collect(cdk().propertyValidator("tags",cdk().listValidator(cdk().validateCfnTag))(properties.tags)),errors.wrap('supplied properties not correct for "CfnPublicRepositoryProps"')}function convertCfnPublicRepositoryPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnPublicRepositoryPropsValidator(properties).assertSuccess(),{RepositoryCatalogData:cdk().objectToCloudFormation(properties.repositoryCatalogData),RepositoryName:cdk().stringToCloudFormation(properties.repositoryName),RepositoryPolicyText:cdk().objectToCloudFormation(properties.repositoryPolicyText),Tags:cdk().listMapper(cdk().cfnTagToCloudFormation)(properties.tags)}):properties}function CfnPublicRepositoryPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("repositoryCatalogData","RepositoryCatalogData",properties.RepositoryCatalogData!=null?cfn_parse().FromCloudFormation.getAny(properties.RepositoryCatalogData):void 0),ret.addPropertyResult("repositoryName","RepositoryName",properties.RepositoryName!=null?cfn_parse().FromCloudFormation.getString(properties.RepositoryName):void 0),ret.addPropertyResult("repositoryPolicyText","RepositoryPolicyText",properties.RepositoryPolicyText!=null?cfn_parse().FromCloudFormation.getAny(properties.RepositoryPolicyText):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnPullThroughCacheRule extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnPullThroughCacheRule",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::PullThroughCacheRule";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnPullThroughCacheRulePropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnPullThroughCacheRule(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}credentialArn;customRoleArn;ecrRepositoryPrefix;upstreamRegistry;upstreamRegistryUrl;upstreamRepositoryPrefix;constructor(scope,id,props={}){super(scope,id,{type:CfnPullThroughCacheRule.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnPullThroughCacheRuleProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnPullThroughCacheRule),error}this.credentialArn=props.credentialArn,this.customRoleArn=props.customRoleArn,this.ecrRepositoryPrefix=props.ecrRepositoryPrefix,this.upstreamRegistry=props.upstreamRegistry,this.upstreamRegistryUrl=props.upstreamRegistryUrl,this.upstreamRepositoryPrefix=props.upstreamRepositoryPrefix}get pullThroughCacheRuleRef(){return{ecrRepositoryPrefix:this.ref}}get cfnProperties(){return{credentialArn:this.credentialArn,customRoleArn:this.customRoleArn,ecrRepositoryPrefix:this.ecrRepositoryPrefix,upstreamRegistry:this.upstreamRegistry,upstreamRegistryUrl:this.upstreamRegistryUrl,upstreamRepositoryPrefix:this.upstreamRepositoryPrefix}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnPullThroughCacheRule.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnPullThroughCacheRulePropsToCloudFormation(props)}}exports.CfnPullThroughCacheRule=CfnPullThroughCacheRule;function CfnPullThroughCacheRulePropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("credentialArn",cdk().validateString)(properties.credentialArn)),errors.collect(cdk().propertyValidator("customRoleArn",cdk().validateString)(properties.customRoleArn)),errors.collect(cdk().propertyValidator("ecrRepositoryPrefix",cdk().validateString)(properties.ecrRepositoryPrefix)),errors.collect(cdk().propertyValidator("upstreamRegistry",cdk().validateString)(properties.upstreamRegistry)),errors.collect(cdk().propertyValidator("upstreamRegistryUrl",cdk().validateString)(properties.upstreamRegistryUrl)),errors.collect(cdk().propertyValidator("upstreamRepositoryPrefix",cdk().validateString)(properties.upstreamRepositoryPrefix)),errors.wrap('supplied properties not correct for "CfnPullThroughCacheRuleProps"')}function convertCfnPullThroughCacheRulePropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnPullThroughCacheRulePropsValidator(properties).assertSuccess(),{CredentialArn:cdk().stringToCloudFormation(properties.credentialArn),CustomRoleArn:cdk().stringToCloudFormation(properties.customRoleArn),EcrRepositoryPrefix:cdk().stringToCloudFormation(properties.ecrRepositoryPrefix),UpstreamRegistry:cdk().stringToCloudFormation(properties.upstreamRegistry),UpstreamRegistryUrl:cdk().stringToCloudFormation(properties.upstreamRegistryUrl),UpstreamRepositoryPrefix:cdk().stringToCloudFormation(properties.upstreamRepositoryPrefix)}):properties}function CfnPullThroughCacheRulePropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("credentialArn","CredentialArn",properties.CredentialArn!=null?cfn_parse().FromCloudFormation.getString(properties.CredentialArn):void 0),ret.addPropertyResult("customRoleArn","CustomRoleArn",properties.CustomRoleArn!=null?cfn_parse().FromCloudFormation.getString(properties.CustomRoleArn):void 0),ret.addPropertyResult("ecrRepositoryPrefix","EcrRepositoryPrefix",properties.EcrRepositoryPrefix!=null?cfn_parse().FromCloudFormation.getString(properties.EcrRepositoryPrefix):void 0),ret.addPropertyResult("upstreamRegistry","UpstreamRegistry",properties.UpstreamRegistry!=null?cfn_parse().FromCloudFormation.getString(properties.UpstreamRegistry):void 0),ret.addPropertyResult("upstreamRegistryUrl","UpstreamRegistryUrl",properties.UpstreamRegistryUrl!=null?cfn_parse().FromCloudFormation.getString(properties.UpstreamRegistryUrl):void 0),ret.addPropertyResult("upstreamRepositoryPrefix","UpstreamRepositoryPrefix",properties.UpstreamRepositoryPrefix!=null?cfn_parse().FromCloudFormation.getString(properties.UpstreamRepositoryPrefix):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnRegistryPolicy extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnRegistryPolicy",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::RegistryPolicy";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnRegistryPolicyPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnRegistryPolicy(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}attrRegistryId;policyText;constructor(scope,id,props){super(scope,id,{type:CfnRegistryPolicy.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnRegistryPolicyProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnRegistryPolicy),error}cdk().requireProperty(props,"policyText",this),this.attrRegistryId=cdk().Token.asString(this.getAtt("RegistryId",cdk().ResolutionTypeHint.STRING)),this.policyText=props.policyText}get registryPolicyRef(){return{registryId:this.ref}}get cfnProperties(){return{policyText:this.policyText}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnRegistryPolicy.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnRegistryPolicyPropsToCloudFormation(props)}}exports.CfnRegistryPolicy=CfnRegistryPolicy;function CfnRegistryPolicyPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("policyText",cdk().requiredValidator)(properties.policyText)),errors.collect(cdk().propertyValidator("policyText",cdk().validateObject)(properties.policyText)),errors.wrap('supplied properties not correct for "CfnRegistryPolicyProps"')}function convertCfnRegistryPolicyPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRegistryPolicyPropsValidator(properties).assertSuccess(),{PolicyText:cdk().objectToCloudFormation(properties.policyText)}):properties}function CfnRegistryPolicyPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("policyText","PolicyText",properties.PolicyText!=null?cfn_parse().FromCloudFormation.getAny(properties.PolicyText):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnReplicationConfiguration extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnReplicationConfiguration",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::ReplicationConfiguration";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnReplicationConfigurationPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnReplicationConfiguration(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}attrRegistryId;replicationConfiguration;constructor(scope,id,props){super(scope,id,{type:CfnReplicationConfiguration.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnReplicationConfigurationProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnReplicationConfiguration),error}cdk().requireProperty(props,"replicationConfiguration",this),this.attrRegistryId=cdk().Token.asString(this.getAtt("RegistryId",cdk().ResolutionTypeHint.STRING)),this.replicationConfiguration=props.replicationConfiguration}get replicationConfigurationRef(){return{registryId:this.ref}}get cfnProperties(){return{replicationConfiguration:this.replicationConfiguration}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnReplicationConfiguration.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnReplicationConfigurationPropsToCloudFormation(props)}}exports.CfnReplicationConfiguration=CfnReplicationConfiguration;function CfnReplicationConfigurationRepositoryFilterPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("filter",cdk().requiredValidator)(properties.filter)),errors.collect(cdk().propertyValidator("filter",cdk().validateString)(properties.filter)),errors.collect(cdk().propertyValidator("filterType",cdk().requiredValidator)(properties.filterType)),errors.collect(cdk().propertyValidator("filterType",cdk().validateString)(properties.filterType)),errors.wrap('supplied properties not correct for "RepositoryFilterProperty"')}function convertCfnReplicationConfigurationRepositoryFilterPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnReplicationConfigurationRepositoryFilterPropertyValidator(properties).assertSuccess(),{Filter:cdk().stringToCloudFormation(properties.filter),FilterType:cdk().stringToCloudFormation(properties.filterType)}):properties}function CfnReplicationConfigurationRepositoryFilterPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("filter","Filter",properties.Filter!=null?cfn_parse().FromCloudFormation.getString(properties.Filter):void 0),ret.addPropertyResult("filterType","FilterType",properties.FilterType!=null?cfn_parse().FromCloudFormation.getString(properties.FilterType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnReplicationConfigurationReplicationDestinationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("region",cdk().requiredValidator)(properties.region)),errors.collect(cdk().propertyValidator("region",cdk().validateString)(properties.region)),errors.collect(cdk().propertyValidator("registryId",cdk().requiredValidator)(properties.registryId)),errors.collect(cdk().propertyValidator("registryId",cdk().validateString)(properties.registryId)),errors.wrap('supplied properties not correct for "ReplicationDestinationProperty"')}function convertCfnReplicationConfigurationReplicationDestinationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnReplicationConfigurationReplicationDestinationPropertyValidator(properties).assertSuccess(),{Region:cdk().stringToCloudFormation(properties.region),RegistryId:cdk().stringToCloudFormation(properties.registryId)}):properties}function CfnReplicationConfigurationReplicationDestinationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("region","Region",properties.Region!=null?cfn_parse().FromCloudFormation.getString(properties.Region):void 0),ret.addPropertyResult("registryId","RegistryId",properties.RegistryId!=null?cfn_parse().FromCloudFormation.getString(properties.RegistryId):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnReplicationConfigurationReplicationRulePropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("destinations",cdk().requiredValidator)(properties.destinations)),errors.collect(cdk().propertyValidator("destinations",cdk().listValidator(CfnReplicationConfigurationReplicationDestinationPropertyValidator))(properties.destinations)),errors.collect(cdk().propertyValidator("repositoryFilters",cdk().listValidator(CfnReplicationConfigurationRepositoryFilterPropertyValidator))(properties.repositoryFilters)),errors.wrap('supplied properties not correct for "ReplicationRuleProperty"')}function convertCfnReplicationConfigurationReplicationRulePropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnReplicationConfigurationReplicationRulePropertyValidator(properties).assertSuccess(),{Destinations:cdk().listMapper(convertCfnReplicationConfigurationReplicationDestinationPropertyToCloudFormation)(properties.destinations),RepositoryFilters:cdk().listMapper(convertCfnReplicationConfigurationRepositoryFilterPropertyToCloudFormation)(properties.repositoryFilters)}):properties}function CfnReplicationConfigurationReplicationRulePropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("destinations","Destinations",properties.Destinations!=null?cfn_parse().FromCloudFormation.getArray(CfnReplicationConfigurationReplicationDestinationPropertyFromCloudFormation)(properties.Destinations):void 0),ret.addPropertyResult("repositoryFilters","RepositoryFilters",properties.RepositoryFilters!=null?cfn_parse().FromCloudFormation.getArray(CfnReplicationConfigurationRepositoryFilterPropertyFromCloudFormation)(properties.RepositoryFilters):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnReplicationConfigurationReplicationConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("rules",cdk().requiredValidator)(properties.rules)),errors.collect(cdk().propertyValidator("rules",cdk().listValidator(CfnReplicationConfigurationReplicationRulePropertyValidator))(properties.rules)),errors.wrap('supplied properties not correct for "ReplicationConfigurationProperty"')}function convertCfnReplicationConfigurationReplicationConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnReplicationConfigurationReplicationConfigurationPropertyValidator(properties).assertSuccess(),{Rules:cdk().listMapper(convertCfnReplicationConfigurationReplicationRulePropertyToCloudFormation)(properties.rules)}):properties}function CfnReplicationConfigurationReplicationConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("rules","Rules",properties.Rules!=null?cfn_parse().FromCloudFormation.getArray(CfnReplicationConfigurationReplicationRulePropertyFromCloudFormation)(properties.Rules):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnReplicationConfigurationPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("replicationConfiguration",cdk().requiredValidator)(properties.replicationConfiguration)),errors.collect(cdk().propertyValidator("replicationConfiguration",CfnReplicationConfigurationReplicationConfigurationPropertyValidator)(properties.replicationConfiguration)),errors.wrap('supplied properties not correct for "CfnReplicationConfigurationProps"')}function convertCfnReplicationConfigurationPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnReplicationConfigurationPropsValidator(properties).assertSuccess(),{ReplicationConfiguration:convertCfnReplicationConfigurationReplicationConfigurationPropertyToCloudFormation(properties.replicationConfiguration)}):properties}function CfnReplicationConfigurationPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("replicationConfiguration","ReplicationConfiguration",properties.ReplicationConfiguration!=null?CfnReplicationConfigurationReplicationConfigurationPropertyFromCloudFormation(properties.ReplicationConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnRepository extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnRepository",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::Repository";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnRepositoryPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnRepository(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}static fromRepositoryArn(scope,id,arn){class Import extends cdk().Resource{repositoryRef;constructor(scope2,id2,arn2){super(scope2,id2,{environmentFromArn:arn2});const variables=new(cfn_parse()).TemplateString("arn:${Partition}:ecr:${Region}:${Account}:repository/${RepositoryName}").parse(arn2);this.repositoryRef={repositoryName:variables.RepositoryName,repositoryArn:arn2}}}return new Import(scope,id,arn)}static fromRepositoryName(scope,id,repositoryName){class Import extends cdk().Resource{repositoryRef;constructor(scope2,id2,repositoryName2){const arn=new(cfn_parse()).TemplateString("arn:${Partition}:ecr:${Region}:${Account}:repository/${RepositoryName}").interpolate({Partition:cdk().Stack.of(scope2).partition,Region:cdk().Stack.of(scope2).region,Account:cdk().Stack.of(scope2).account,RepositoryName:repositoryName2});super(scope2,id2,{environmentFromArn:arn}),this.repositoryRef={repositoryName:repositoryName2,repositoryArn:arn}}}return new Import(scope,id,repositoryName)}static arnForRepository(resource){try{jsiiDeprecationWarnings().aws_cdk_lib_interfaces_aws_ecr_IRepositoryRef(resource)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.arnForRepository),error}return resource.repositoryRef.repositoryArn}attrArn;attrRepositoryUri;emptyOnDelete;encryptionConfiguration;imageScanningConfiguration;imageTagMutability;imageTagMutabilityExclusionFilters;lifecyclePolicy;repositoryName;repositoryPolicyText;tags;tagsRaw;constructor(scope,id,props={}){super(scope,id,{type:CfnRepository.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnRepositoryProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnRepository),error}this.attrArn=cdk().Token.asString(this.getAtt("Arn",cdk().ResolutionTypeHint.STRING)),this.attrRepositoryUri=cdk().Token.asString(this.getAtt("RepositoryUri",cdk().ResolutionTypeHint.STRING)),this.emptyOnDelete=props.emptyOnDelete,this.encryptionConfiguration=props.encryptionConfiguration,this.imageScanningConfiguration=props.imageScanningConfiguration,this.imageTagMutability=props.imageTagMutability,this.imageTagMutabilityExclusionFilters=props.imageTagMutabilityExclusionFilters,this.lifecyclePolicy=props.lifecyclePolicy,this.repositoryName=props.repositoryName,this.repositoryPolicyText=props.repositoryPolicyText,this.tags=new(cdk()).TagManager(cdk().TagType.STANDARD,"AWS::ECR::Repository",props.tags,{tagPropertyName:"tags"}),this.tagsRaw=props.tags}get repositoryRef(){return{repositoryName:this.ref,repositoryArn:this.attrArn}}get cfnProperties(){return{emptyOnDelete:this.emptyOnDelete,encryptionConfiguration:this.encryptionConfiguration,imageScanningConfiguration:this.imageScanningConfiguration,imageTagMutability:this.imageTagMutability,imageTagMutabilityExclusionFilters:this.imageTagMutabilityExclusionFilters,lifecyclePolicy:this.lifecyclePolicy,repositoryName:this.repositoryName,repositoryPolicyText:this.repositoryPolicyText,tags:this.tags.renderTags()}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnRepository.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnRepositoryPropsToCloudFormation(props)}}exports.CfnRepository=CfnRepository;function CfnRepositoryImageScanningConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("scanOnPush",cdk().validateBoolean)(properties.scanOnPush)),errors.wrap('supplied properties not correct for "ImageScanningConfigurationProperty"')}function convertCfnRepositoryImageScanningConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryImageScanningConfigurationPropertyValidator(properties).assertSuccess(),{ScanOnPush:cdk().booleanToCloudFormation(properties.scanOnPush)}):properties}function CfnRepositoryImageScanningConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("scanOnPush","ScanOnPush",properties.ScanOnPush!=null?cfn_parse().FromCloudFormation.getBoolean(properties.ScanOnPush):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryEncryptionConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("encryptionType",cdk().requiredValidator)(properties.encryptionType)),errors.collect(cdk().propertyValidator("encryptionType",cdk().validateString)(properties.encryptionType)),errors.collect(cdk().propertyValidator("kmsKey",cdk().validateString)(properties.kmsKey)),errors.wrap('supplied properties not correct for "EncryptionConfigurationProperty"')}function convertCfnRepositoryEncryptionConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryEncryptionConfigurationPropertyValidator(properties).assertSuccess(),{EncryptionType:cdk().stringToCloudFormation(properties.encryptionType),KmsKey:cdk().stringToCloudFormation(properties.kmsKey)}):properties}function CfnRepositoryEncryptionConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("encryptionType","EncryptionType",properties.EncryptionType!=null?cfn_parse().FromCloudFormation.getString(properties.EncryptionType):void 0),ret.addPropertyResult("kmsKey","KmsKey",properties.KmsKey!=null?cfn_parse().FromCloudFormation.getString(properties.KmsKey):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryLifecyclePolicyPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("lifecyclePolicyText",cdk().validateString)(properties.lifecyclePolicyText)),errors.collect(cdk().propertyValidator("registryId",cdk().validateString)(properties.registryId)),errors.wrap('supplied properties not correct for "LifecyclePolicyProperty"')}function convertCfnRepositoryLifecyclePolicyPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryLifecyclePolicyPropertyValidator(properties).assertSuccess(),{LifecyclePolicyText:cdk().stringToCloudFormation(properties.lifecyclePolicyText),RegistryId:cdk().stringToCloudFormation(properties.registryId)}):properties}function CfnRepositoryLifecyclePolicyPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("lifecyclePolicyText","LifecyclePolicyText",properties.LifecyclePolicyText!=null?cfn_parse().FromCloudFormation.getString(properties.LifecyclePolicyText):void 0),ret.addPropertyResult("registryId","RegistryId",properties.RegistryId!=null?cfn_parse().FromCloudFormation.getString(properties.RegistryId):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryImageTagMutabilityExclusionFilterPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterType",cdk().requiredValidator)(properties.imageTagMutabilityExclusionFilterType)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterType",cdk().validateString)(properties.imageTagMutabilityExclusionFilterType)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterValue",cdk().requiredValidator)(properties.imageTagMutabilityExclusionFilterValue)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterValue",cdk().validateString)(properties.imageTagMutabilityExclusionFilterValue)),errors.wrap('supplied properties not correct for "ImageTagMutabilityExclusionFilterProperty"')}function convertCfnRepositoryImageTagMutabilityExclusionFilterPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryImageTagMutabilityExclusionFilterPropertyValidator(properties).assertSuccess(),{ImageTagMutabilityExclusionFilterType:cdk().stringToCloudFormation(properties.imageTagMutabilityExclusionFilterType),ImageTagMutabilityExclusionFilterValue:cdk().stringToCloudFormation(properties.imageTagMutabilityExclusionFilterValue)}):properties}function CfnRepositoryImageTagMutabilityExclusionFilterPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("imageTagMutabilityExclusionFilterType","ImageTagMutabilityExclusionFilterType",properties.ImageTagMutabilityExclusionFilterType!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutabilityExclusionFilterType):void 0),ret.addPropertyResult("imageTagMutabilityExclusionFilterValue","ImageTagMutabilityExclusionFilterValue",properties.ImageTagMutabilityExclusionFilterValue!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutabilityExclusionFilterValue):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("emptyOnDelete",cdk().validateBoolean)(properties.emptyOnDelete)),errors.collect(cdk().propertyValidator("encryptionConfiguration",CfnRepositoryEncryptionConfigurationPropertyValidator)(properties.encryptionConfiguration)),errors.collect(cdk().propertyValidator("imageScanningConfiguration",CfnRepositoryImageScanningConfigurationPropertyValidator)(properties.imageScanningConfiguration)),errors.collect(cdk().propertyValidator("imageTagMutability",cdk().validateString)(properties.imageTagMutability)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilters",cdk().listValidator(CfnRepositoryImageTagMutabilityExclusionFilterPropertyValidator))(properties.imageTagMutabilityExclusionFilters)),errors.collect(cdk().propertyValidator("lifecyclePolicy",CfnRepositoryLifecyclePolicyPropertyValidator)(properties.lifecyclePolicy)),errors.collect(cdk().propertyValidator("repositoryName",cdk().validateString)(properties.repositoryName)),errors.collect(cdk().propertyValidator("repositoryPolicyText",cdk().validateObject)(properties.repositoryPolicyText)),errors.collect(cdk().propertyValidator("tags",cdk().listValidator(cdk().validateCfnTag))(properties.tags)),errors.wrap('supplied properties not correct for "CfnRepositoryProps"')}function convertCfnRepositoryPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryPropsValidator(properties).assertSuccess(),{EmptyOnDelete:cdk().booleanToCloudFormation(properties.emptyOnDelete),EncryptionConfiguration:convertCfnRepositoryEncryptionConfigurationPropertyToCloudFormation(properties.encryptionConfiguration),ImageScanningConfiguration:convertCfnRepositoryImageScanningConfigurationPropertyToCloudFormation(properties.imageScanningConfiguration),ImageTagMutability:cdk().stringToCloudFormation(properties.imageTagMutability),ImageTagMutabilityExclusionFilters:cdk().listMapper(convertCfnRepositoryImageTagMutabilityExclusionFilterPropertyToCloudFormation)(properties.imageTagMutabilityExclusionFilters),LifecyclePolicy:convertCfnRepositoryLifecyclePolicyPropertyToCloudFormation(properties.lifecyclePolicy),RepositoryName:cdk().stringToCloudFormation(properties.repositoryName),RepositoryPolicyText:cdk().objectToCloudFormation(properties.repositoryPolicyText),Tags:cdk().listMapper(cdk().cfnTagToCloudFormation)(properties.tags)}):properties}function CfnRepositoryPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("emptyOnDelete","EmptyOnDelete",properties.EmptyOnDelete!=null?cfn_parse().FromCloudFormation.getBoolean(properties.EmptyOnDelete):void 0),ret.addPropertyResult("encryptionConfiguration","EncryptionConfiguration",properties.EncryptionConfiguration!=null?CfnRepositoryEncryptionConfigurationPropertyFromCloudFormation(properties.EncryptionConfiguration):void 0),ret.addPropertyResult("imageScanningConfiguration","ImageScanningConfiguration",properties.ImageScanningConfiguration!=null?CfnRepositoryImageScanningConfigurationPropertyFromCloudFormation(properties.ImageScanningConfiguration):void 0),ret.addPropertyResult("imageTagMutability","ImageTagMutability",properties.ImageTagMutability!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutability):void 0),ret.addPropertyResult("imageTagMutabilityExclusionFilters","ImageTagMutabilityExclusionFilters",properties.ImageTagMutabilityExclusionFilters!=null?cfn_parse().FromCloudFormation.getArray(CfnRepositoryImageTagMutabilityExclusionFilterPropertyFromCloudFormation)(properties.ImageTagMutabilityExclusionFilters):void 0),ret.addPropertyResult("lifecyclePolicy","LifecyclePolicy",properties.LifecyclePolicy!=null?CfnRepositoryLifecyclePolicyPropertyFromCloudFormation(properties.LifecyclePolicy):void 0),ret.addPropertyResult("repositoryName","RepositoryName",properties.RepositoryName!=null?cfn_parse().FromCloudFormation.getString(properties.RepositoryName):void 0),ret.addPropertyResult("repositoryPolicyText","RepositoryPolicyText",properties.RepositoryPolicyText!=null?cfn_parse().FromCloudFormation.getAny(properties.RepositoryPolicyText):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getCfnTag)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnPullTimeUpdateExclusion extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnPullTimeUpdateExclusion",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::PullTimeUpdateExclusion";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnPullTimeUpdateExclusionPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnPullTimeUpdateExclusion(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}principalArn;constructor(scope,id,props){super(scope,id,{type:CfnPullTimeUpdateExclusion.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnPullTimeUpdateExclusionProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnPullTimeUpdateExclusion),error}cdk().requireProperty(props,"principalArn",this),this.principalArn=props.principalArn}get pullTimeUpdateExclusionRef(){return{principalArn:this.ref}}get cfnProperties(){return{principalArn:this.principalArn}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnPullTimeUpdateExclusion.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnPullTimeUpdateExclusionPropsToCloudFormation(props)}}exports.CfnPullTimeUpdateExclusion=CfnPullTimeUpdateExclusion;function CfnPullTimeUpdateExclusionPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("principalArn",cdk().requiredValidator)(properties.principalArn)),errors.collect(cdk().propertyValidator("principalArn",cdk().validateString)(properties.principalArn)),errors.wrap('supplied properties not correct for "CfnPullTimeUpdateExclusionProps"')}function convertCfnPullTimeUpdateExclusionPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnPullTimeUpdateExclusionPropsValidator(properties).assertSuccess(),{PrincipalArn:cdk().stringToCloudFormation(properties.principalArn)}):properties}function CfnPullTimeUpdateExclusionPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("principalArn","PrincipalArn",properties.PrincipalArn!=null?cfn_parse().FromCloudFormation.getString(properties.PrincipalArn):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnRegistryScanningConfiguration extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnRegistryScanningConfiguration",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::RegistryScanningConfiguration";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnRegistryScanningConfigurationPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnRegistryScanningConfiguration(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}attrRegistryId;rules;scanType;constructor(scope,id,props){super(scope,id,{type:CfnRegistryScanningConfiguration.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnRegistryScanningConfigurationProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnRegistryScanningConfiguration),error}cdk().requireProperty(props,"rules",this),cdk().requireProperty(props,"scanType",this),this.attrRegistryId=cdk().Token.asString(this.getAtt("RegistryId",cdk().ResolutionTypeHint.STRING)),this.rules=props.rules,this.scanType=props.scanType}get registryScanningConfigurationRef(){return{registryId:this.ref}}get cfnProperties(){return{rules:this.rules,scanType:this.scanType}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnRegistryScanningConfiguration.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnRegistryScanningConfigurationPropsToCloudFormation(props)}}exports.CfnRegistryScanningConfiguration=CfnRegistryScanningConfiguration;function CfnRegistryScanningConfigurationRepositoryFilterPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("filter",cdk().requiredValidator)(properties.filter)),errors.collect(cdk().propertyValidator("filter",cdk().validateString)(properties.filter)),errors.collect(cdk().propertyValidator("filterType",cdk().requiredValidator)(properties.filterType)),errors.collect(cdk().propertyValidator("filterType",cdk().validateString)(properties.filterType)),errors.wrap('supplied properties not correct for "RepositoryFilterProperty"')}function convertCfnRegistryScanningConfigurationRepositoryFilterPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRegistryScanningConfigurationRepositoryFilterPropertyValidator(properties).assertSuccess(),{Filter:cdk().stringToCloudFormation(properties.filter),FilterType:cdk().stringToCloudFormation(properties.filterType)}):properties}function CfnRegistryScanningConfigurationRepositoryFilterPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("filter","Filter",properties.Filter!=null?cfn_parse().FromCloudFormation.getString(properties.Filter):void 0),ret.addPropertyResult("filterType","FilterType",properties.FilterType!=null?cfn_parse().FromCloudFormation.getString(properties.FilterType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRegistryScanningConfigurationScanningRulePropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("repositoryFilters",cdk().requiredValidator)(properties.repositoryFilters)),errors.collect(cdk().propertyValidator("repositoryFilters",cdk().listValidator(CfnRegistryScanningConfigurationRepositoryFilterPropertyValidator))(properties.repositoryFilters)),errors.collect(cdk().propertyValidator("scanFrequency",cdk().requiredValidator)(properties.scanFrequency)),errors.collect(cdk().propertyValidator("scanFrequency",cdk().validateString)(properties.scanFrequency)),errors.wrap('supplied properties not correct for "ScanningRuleProperty"')}function convertCfnRegistryScanningConfigurationScanningRulePropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRegistryScanningConfigurationScanningRulePropertyValidator(properties).assertSuccess(),{RepositoryFilters:cdk().listMapper(convertCfnRegistryScanningConfigurationRepositoryFilterPropertyToCloudFormation)(properties.repositoryFilters),ScanFrequency:cdk().stringToCloudFormation(properties.scanFrequency)}):properties}function CfnRegistryScanningConfigurationScanningRulePropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("repositoryFilters","RepositoryFilters",properties.RepositoryFilters!=null?cfn_parse().FromCloudFormation.getArray(CfnRegistryScanningConfigurationRepositoryFilterPropertyFromCloudFormation)(properties.RepositoryFilters):void 0),ret.addPropertyResult("scanFrequency","ScanFrequency",properties.ScanFrequency!=null?cfn_parse().FromCloudFormation.getString(properties.ScanFrequency):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRegistryScanningConfigurationPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("rules",cdk().requiredValidator)(properties.rules)),errors.collect(cdk().propertyValidator("rules",cdk().listValidator(CfnRegistryScanningConfigurationScanningRulePropertyValidator))(properties.rules)),errors.collect(cdk().propertyValidator("scanType",cdk().requiredValidator)(properties.scanType)),errors.collect(cdk().propertyValidator("scanType",cdk().validateString)(properties.scanType)),errors.wrap('supplied properties not correct for "CfnRegistryScanningConfigurationProps"')}function convertCfnRegistryScanningConfigurationPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRegistryScanningConfigurationPropsValidator(properties).assertSuccess(),{Rules:cdk().listMapper(convertCfnRegistryScanningConfigurationScanningRulePropertyToCloudFormation)(properties.rules),ScanType:cdk().stringToCloudFormation(properties.scanType)}):properties}function CfnRegistryScanningConfigurationPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("rules","Rules",properties.Rules!=null?cfn_parse().FromCloudFormation.getArray(CfnRegistryScanningConfigurationScanningRulePropertyFromCloudFormation)(properties.Rules):void 0),ret.addPropertyResult("scanType","ScanType",properties.ScanType!=null?cfn_parse().FromCloudFormation.getString(properties.ScanType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnRepositoryCreationTemplate extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnRepositoryCreationTemplate",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::RepositoryCreationTemplate";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnRepositoryCreationTemplatePropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnRepositoryCreationTemplate(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}attrCreatedAt;attrUpdatedAt;appliedFor;customRoleArn;description;encryptionConfiguration;imageTagMutability;imageTagMutabilityExclusionFilters;lifecyclePolicy;prefix;repositoryPolicy;resourceTags;constructor(scope,id,props){super(scope,id,{type:CfnRepositoryCreationTemplate.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnRepositoryCreationTemplateProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnRepositoryCreationTemplate),error}cdk().requireProperty(props,"appliedFor",this),cdk().requireProperty(props,"prefix",this),this.attrCreatedAt=cdk().Token.asString(this.getAtt("CreatedAt",cdk().ResolutionTypeHint.STRING)),this.attrUpdatedAt=cdk().Token.asString(this.getAtt("UpdatedAt",cdk().ResolutionTypeHint.STRING)),this.appliedFor=props.appliedFor,this.customRoleArn=props.customRoleArn,this.description=props.description,this.encryptionConfiguration=props.encryptionConfiguration,this.imageTagMutability=props.imageTagMutability,this.imageTagMutabilityExclusionFilters=props.imageTagMutabilityExclusionFilters,this.lifecyclePolicy=props.lifecyclePolicy,this.prefix=props.prefix,this.repositoryPolicy=props.repositoryPolicy,this.resourceTags=props.resourceTags}get repositoryCreationTemplateRef(){return{prefix:this.ref}}get cfnProperties(){return{appliedFor:this.appliedFor,customRoleArn:this.customRoleArn,description:this.description,encryptionConfiguration:this.encryptionConfiguration,imageTagMutability:this.imageTagMutability,imageTagMutabilityExclusionFilters:this.imageTagMutabilityExclusionFilters,lifecyclePolicy:this.lifecyclePolicy,prefix:this.prefix,repositoryPolicy:this.repositoryPolicy,resourceTags:this.resourceTags}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnRepositoryCreationTemplate.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnRepositoryCreationTemplatePropsToCloudFormation(props)}}exports.CfnRepositoryCreationTemplate=CfnRepositoryCreationTemplate;function CfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterType",cdk().requiredValidator)(properties.imageTagMutabilityExclusionFilterType)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterType",cdk().validateString)(properties.imageTagMutabilityExclusionFilterType)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterValue",cdk().requiredValidator)(properties.imageTagMutabilityExclusionFilterValue)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilterValue",cdk().validateString)(properties.imageTagMutabilityExclusionFilterValue)),errors.wrap('supplied properties not correct for "ImageTagMutabilityExclusionFilterProperty"')}function convertCfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyValidator(properties).assertSuccess(),{ImageTagMutabilityExclusionFilterType:cdk().stringToCloudFormation(properties.imageTagMutabilityExclusionFilterType),ImageTagMutabilityExclusionFilterValue:cdk().stringToCloudFormation(properties.imageTagMutabilityExclusionFilterValue)}):properties}function CfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("imageTagMutabilityExclusionFilterType","ImageTagMutabilityExclusionFilterType",properties.ImageTagMutabilityExclusionFilterType!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutabilityExclusionFilterType):void 0),ret.addPropertyResult("imageTagMutabilityExclusionFilterValue","ImageTagMutabilityExclusionFilterValue",properties.ImageTagMutabilityExclusionFilterValue!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutabilityExclusionFilterValue):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryCreationTemplateEncryptionConfigurationPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("encryptionType",cdk().requiredValidator)(properties.encryptionType)),errors.collect(cdk().propertyValidator("encryptionType",cdk().validateString)(properties.encryptionType)),errors.collect(cdk().propertyValidator("kmsKey",cdk().validateString)(properties.kmsKey)),errors.wrap('supplied properties not correct for "EncryptionConfigurationProperty"')}function convertCfnRepositoryCreationTemplateEncryptionConfigurationPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryCreationTemplateEncryptionConfigurationPropertyValidator(properties).assertSuccess(),{EncryptionType:cdk().stringToCloudFormation(properties.encryptionType),KmsKey:cdk().stringToCloudFormation(properties.kmsKey)}):properties}function CfnRepositoryCreationTemplateEncryptionConfigurationPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("encryptionType","EncryptionType",properties.EncryptionType!=null?cfn_parse().FromCloudFormation.getString(properties.EncryptionType):void 0),ret.addPropertyResult("kmsKey","KmsKey",properties.KmsKey!=null?cfn_parse().FromCloudFormation.getString(properties.KmsKey):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnRepositoryCreationTemplatePropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("appliedFor",cdk().requiredValidator)(properties.appliedFor)),errors.collect(cdk().propertyValidator("appliedFor",cdk().listValidator(cdk().validateString))(properties.appliedFor)),errors.collect(cdk().propertyValidator("customRoleArn",cdk().validateString)(properties.customRoleArn)),errors.collect(cdk().propertyValidator("description",cdk().validateString)(properties.description)),errors.collect(cdk().propertyValidator("encryptionConfiguration",CfnRepositoryCreationTemplateEncryptionConfigurationPropertyValidator)(properties.encryptionConfiguration)),errors.collect(cdk().propertyValidator("imageTagMutability",cdk().validateString)(properties.imageTagMutability)),errors.collect(cdk().propertyValidator("imageTagMutabilityExclusionFilters",cdk().listValidator(CfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyValidator))(properties.imageTagMutabilityExclusionFilters)),errors.collect(cdk().propertyValidator("lifecyclePolicy",cdk().validateString)(properties.lifecyclePolicy)),errors.collect(cdk().propertyValidator("prefix",cdk().requiredValidator)(properties.prefix)),errors.collect(cdk().propertyValidator("prefix",cdk().validateString)(properties.prefix)),errors.collect(cdk().propertyValidator("repositoryPolicy",cdk().validateString)(properties.repositoryPolicy)),errors.collect(cdk().propertyValidator("resourceTags",cdk().listValidator(cdk().validateCfnTag))(properties.resourceTags)),errors.wrap('supplied properties not correct for "CfnRepositoryCreationTemplateProps"')}function convertCfnRepositoryCreationTemplatePropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnRepositoryCreationTemplatePropsValidator(properties).assertSuccess(),{AppliedFor:cdk().listMapper(cdk().stringToCloudFormation)(properties.appliedFor),CustomRoleArn:cdk().stringToCloudFormation(properties.customRoleArn),Description:cdk().stringToCloudFormation(properties.description),EncryptionConfiguration:convertCfnRepositoryCreationTemplateEncryptionConfigurationPropertyToCloudFormation(properties.encryptionConfiguration),ImageTagMutability:cdk().stringToCloudFormation(properties.imageTagMutability),ImageTagMutabilityExclusionFilters:cdk().listMapper(convertCfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyToCloudFormation)(properties.imageTagMutabilityExclusionFilters),LifecyclePolicy:cdk().stringToCloudFormation(properties.lifecyclePolicy),Prefix:cdk().stringToCloudFormation(properties.prefix),RepositoryPolicy:cdk().stringToCloudFormation(properties.repositoryPolicy),ResourceTags:cdk().listMapper(cdk().cfnTagToCloudFormation)(properties.resourceTags)}):properties}function CfnRepositoryCreationTemplatePropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("appliedFor","AppliedFor",properties.AppliedFor!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getString)(properties.AppliedFor):void 0),ret.addPropertyResult("customRoleArn","CustomRoleArn",properties.CustomRoleArn!=null?cfn_parse().FromCloudFormation.getString(properties.CustomRoleArn):void 0),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse().FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("encryptionConfiguration","EncryptionConfiguration",properties.EncryptionConfiguration!=null?CfnRepositoryCreationTemplateEncryptionConfigurationPropertyFromCloudFormation(properties.EncryptionConfiguration):void 0),ret.addPropertyResult("imageTagMutability","ImageTagMutability",properties.ImageTagMutability!=null?cfn_parse().FromCloudFormation.getString(properties.ImageTagMutability):void 0),ret.addPropertyResult("imageTagMutabilityExclusionFilters","ImageTagMutabilityExclusionFilters",properties.ImageTagMutabilityExclusionFilters!=null?cfn_parse().FromCloudFormation.getArray(CfnRepositoryCreationTemplateImageTagMutabilityExclusionFilterPropertyFromCloudFormation)(properties.ImageTagMutabilityExclusionFilters):void 0),ret.addPropertyResult("lifecyclePolicy","LifecyclePolicy",properties.LifecyclePolicy!=null?cfn_parse().FromCloudFormation.getString(properties.LifecyclePolicy):void 0),ret.addPropertyResult("prefix","Prefix",properties.Prefix!=null?cfn_parse().FromCloudFormation.getString(properties.Prefix):void 0),ret.addPropertyResult("repositoryPolicy","RepositoryPolicy",properties.RepositoryPolicy!=null?cfn_parse().FromCloudFormation.getString(properties.RepositoryPolicy):void 0),ret.addPropertyResult("resourceTags","ResourceTags",properties.ResourceTags!=null?cfn_parse().FromCloudFormation.getArray(cfn_parse().FromCloudFormation.getCfnTag)(properties.ResourceTags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnSigningConfiguration extends cdk().CfnResource{static[JSII_RTTI_SYMBOL_1]={fqn:"aws-cdk-lib.aws_ecr.CfnSigningConfiguration",version:"2.230.0"};static CFN_RESOURCE_TYPE_NAME="AWS::ECR::SigningConfiguration";static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnSigningConfigurationPropsFromCloudFormation(resourceProperties);if(cdk().isResolvableObject(propsResult.value))throw new(cdk_errors()).ValidationError("Unexpected IResolvable",scope);const ret=new CfnSigningConfiguration(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}attrRegistryId;rules;constructor(scope,id,props){super(scope,id,{type:CfnSigningConfiguration.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings().aws_cdk_lib_aws_ecr_CfnSigningConfigurationProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnSigningConfiguration),error}cdk().requireProperty(props,"rules",this),this.attrRegistryId=cdk().Token.asString(this.getAtt("RegistryId",cdk().ResolutionTypeHint.STRING)),this.rules=props.rules}get signingConfigurationRef(){return{registryId:this.ref}}get cfnProperties(){return{rules:this.rules}}inspect(inspector){try{jsiiDeprecationWarnings().aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnSigningConfiguration.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}renderProperties(props){return convertCfnSigningConfigurationPropsToCloudFormation(props)}}exports.CfnSigningConfiguration=CfnSigningConfiguration;function CfnSigningConfigurationRepositoryFilterPropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("filter",cdk().requiredValidator)(properties.filter)),errors.collect(cdk().propertyValidator("filter",cdk().validateString)(properties.filter)),errors.collect(cdk().propertyValidator("filterType",cdk().requiredValidator)(properties.filterType)),errors.collect(cdk().propertyValidator("filterType",cdk().validateString)(properties.filterType)),errors.wrap('supplied properties not correct for "RepositoryFilterProperty"')}function convertCfnSigningConfigurationRepositoryFilterPropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnSigningConfigurationRepositoryFilterPropertyValidator(properties).assertSuccess(),{Filter:cdk().stringToCloudFormation(properties.filter),FilterType:cdk().stringToCloudFormation(properties.filterType)}):properties}function CfnSigningConfigurationRepositoryFilterPropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("filter","Filter",properties.Filter!=null?cfn_parse().FromCloudFormation.getString(properties.Filter):void 0),ret.addPropertyResult("filterType","FilterType",properties.FilterType!=null?cfn_parse().FromCloudFormation.getString(properties.FilterType):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnSigningConfigurationRulePropertyValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("repositoryFilters",cdk().listValidator(CfnSigningConfigurationRepositoryFilterPropertyValidator))(properties.repositoryFilters)),errors.collect(cdk().propertyValidator("signingProfileArn",cdk().requiredValidator)(properties.signingProfileArn)),errors.collect(cdk().propertyValidator("signingProfileArn",cdk().validateString)(properties.signingProfileArn)),errors.wrap('supplied properties not correct for "RuleProperty"')}function convertCfnSigningConfigurationRulePropertyToCloudFormation(properties){return cdk().canInspect(properties)?(CfnSigningConfigurationRulePropertyValidator(properties).assertSuccess(),{RepositoryFilters:cdk().listMapper(convertCfnSigningConfigurationRepositoryFilterPropertyToCloudFormation)(properties.repositoryFilters),SigningProfileArn:cdk().stringToCloudFormation(properties.signingProfileArn)}):properties}function CfnSigningConfigurationRulePropertyFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("repositoryFilters","RepositoryFilters",properties.RepositoryFilters!=null?cfn_parse().FromCloudFormation.getArray(CfnSigningConfigurationRepositoryFilterPropertyFromCloudFormation)(properties.RepositoryFilters):void 0),ret.addPropertyResult("signingProfileArn","SigningProfileArn",properties.SigningProfileArn!=null?cfn_parse().FromCloudFormation.getString(properties.SigningProfileArn):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnSigningConfigurationPropsValidator(properties){if(!cdk().canInspect(properties))return cdk().VALIDATION_SUCCESS;const errors=new(cdk()).ValidationResults;return properties&&typeof properties=="object"&&!Array.isArray(properties)||errors.collect(new(cdk()).ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk().propertyValidator("rules",cdk().requiredValidator)(properties.rules)),errors.collect(cdk().propertyValidator("rules",cdk().listValidator(CfnSigningConfigurationRulePropertyValidator))(properties.rules)),errors.wrap('supplied properties not correct for "CfnSigningConfigurationProps"')}function convertCfnSigningConfigurationPropsToCloudFormation(properties){return cdk().canInspect(properties)?(CfnSigningConfigurationPropsValidator(properties).assertSuccess(),{Rules:cdk().listMapper(convertCfnSigningConfigurationRulePropertyToCloudFormation)(properties.rules)}):properties}function CfnSigningConfigurationPropsFromCloudFormation(properties){if(cdk().isResolvableObject(properties))return new(cfn_parse()).FromCloudFormationResult(properties);if(properties=properties??{},!(properties&&typeof properties=="object"&&!Array.isArray(properties)))return new(cfn_parse()).FromCloudFormationResult(properties);const ret=new(cfn_parse()).FromCloudFormationPropertyObject;return ret.addPropertyResult("rules","Rules",properties.Rules!=null?cfn_parse().FromCloudFormation.getArray(CfnSigningConfigurationRulePropertyFromCloudFormation)(properties.Rules):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
