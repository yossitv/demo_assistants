{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.230.0"},"children":{"RagStreamAPI":{"id":"RagStreamAPI","path":"RagStreamAPI","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.230.0"},"children":{"AgentsTable":{"id":"AgentsTable","path":"RagStreamAPI/AgentsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"agentId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"agentId","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"RagStreamAPI/AgentsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"KnowledgeSpacesTable":{"id":"KnowledgeSpacesTable","path":"RagStreamAPI/KnowledgeSpacesTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeSpacesTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"tenantId","attributeType":"S"},{"attributeName":"knowledgeSpaceId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"tenantId","keyType":"HASH"},{"attributeName":"knowledgeSpaceId","keyType":"RANGE"}],"sseSpecification":{"sseEnabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"RagStreamAPI/KnowledgeSpacesTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"ConversationsTable":{"id":"ConversationsTable","path":"RagStreamAPI/ConversationsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ConversationsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"conversationId","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","keySchema":[{"attributeName":"conversationId","keyType":"HASH"}],"sseSpecification":{"sseEnabled":true}}}},"ScalingRole":{"id":"ScalingRole","path":"RagStreamAPI/ConversationsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}}}},"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"RagStreamAPI/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"RagStreamAPI/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RagStreamAPI/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RagStreamAPI/LambdaExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/LambdaExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["AgentsTable78E0948F","Arn"]},{"Fn::GetAtt":["ConversationsTableCD91EB96","Arn"]},{"Fn::GetAtt":["KnowledgeSpacesTable2841007C","Arn"]}]}],"Version":"2012-10-17"},"policyName":"LambdaExecutionRoleDefaultPolicy6D69732F","roles":[{"Ref":"LambdaExecutionRoleD5C26073"}]}}}}}}},"KnowledgeCreateFunction":{"id":"KnowledgeCreateFunction","path":"RagStreamAPI/KnowledgeCreateFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/KnowledgeCreateFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/KnowledgeCreateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/KnowledgeCreateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeCreateFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/knowledgeCreate.handler","memorySize":1024,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":300}}}}},"KnowledgeListFunction":{"id":"KnowledgeListFunction","path":"RagStreamAPI/KnowledgeListFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/KnowledgeListFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/KnowledgeListFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/KnowledgeListFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeListFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/knowledgeList.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"AgentCreateFunction":{"id":"AgentCreateFunction","path":"RagStreamAPI/AgentCreateFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/AgentCreateFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/AgentCreateFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/AgentCreateFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/AgentCreateFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/agentCreate.handler","memorySize":512,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":30}}}}},"ChatFunction":{"id":"ChatFunction","path":"RagStreamAPI/ChatFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/ChatFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/ChatFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/ChatFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/ChatFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/chat.handler","memorySize":1024,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":60}}}}},"ChatStreamFunction":{"id":"ChatStreamFunction","path":"RagStreamAPI/ChatStreamFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/ChatStreamFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/ChatStreamFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/ChatStreamFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/ChatStreamFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/chatCompletionsStreamHandler.handler","memorySize":1024,"role":{"Fn::GetAtt":["LambdaExecutionRoleD5C26073","Arn"]},"runtime":"nodejs20.x","timeout":180}}}}},"ApiKeyAuthorizerRole":{"id":"ApiKeyAuthorizerRole","path":"RagStreamAPI/ApiKeyAuthorizerRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.230.0","metadata":[]},"children":{"ImportApiKeyAuthorizerRole":{"id":"ImportApiKeyAuthorizerRole","path":"RagStreamAPI/ApiKeyAuthorizerRole/ImportApiKeyAuthorizerRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"Resource":{"id":"Resource","path":"RagStreamAPI/ApiKeyAuthorizerRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"ApiKeyAuthorizerFunction":{"id":"ApiKeyAuthorizerFunction","path":"RagStreamAPI/ApiKeyAuthorizerFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.230.0","metadata":[]},"children":{"Code":{"id":"Code","path":"RagStreamAPI/ApiKeyAuthorizerFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.230.0"},"children":{"Stage":{"id":"Stage","path":"RagStreamAPI/ApiKeyAuthorizerFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.230.0"}},"AssetBucket":{"id":"AssetBucket","path":"RagStreamAPI/ApiKeyAuthorizerFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.230.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/ApiKeyAuthorizerFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-381492091301-us-east-1","s3Key":"a4d2468f7f8ec4ca7bd9e8c0b9f513095c5a88d3cb01315636f4373b86a42f03.zip"},"environment":{"variables":{"AGENTS_TABLE_NAME":{"Ref":"AgentsTable78E0948F"},"KNOWLEDGE_SPACES_TABLE_NAME":{"Ref":"KnowledgeSpacesTable2841007C"},"CONVERSATIONS_TABLE_NAME":{"Ref":"ConversationsTableCD91EB96"},"OPENAI_API_KEY":"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","QDRANT_URL":"https://eae23d59-8e72-4a96-af53-e6763a27c1f5.us-west-2-0.aws.cloud.qdrant.io","QDRANT_API_KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3MiOiJtIn0.GIdAAQ6hrzYi2VgVLqfCLBorhLLFXI75CxAB3g_XEcc","EMBEDDING_MODEL":"text-embedding-3-small","LLM_MODEL":"gpt-4o","LOG_LEVEL":"INFO","SIMILARITY_THRESHOLD":"0.35","TOP_K":"8","MAX_CITED_URLS":"3","EXPECTED_API_KEY":"dev-stream-key-1234567890","TAUVS_API_KEY":"dev-stream-key-1234567890","RAG_STREAM_API_KEY":"dev-stream-key-1234567890"}},"handler":"handlers/apiKeyAuthorizer.handler","memorySize":128,"role":{"Fn::GetAtt":["ApiKeyAuthorizerRoleE2DD8BB5","Arn"]},"runtime":"nodejs20.x","timeout":5}}},"RagStreamAPIApiKeyAuthorizerF85D53B5:Permissions":{"id":"RagStreamAPIApiKeyAuthorizerF85D53B5:Permissions","path":"RagStreamAPI/ApiKeyAuthorizerFunction/RagStreamAPIApiKeyAuthorizerF85D53B5:Permissions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiKeyAuthorizerFunction06E0AA09","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/authorizers/",{"Ref":"ApiKeyAuthorizerD0BEAC37"}]]}}}}}},"UserPool":{"id":"UserPool","path":"RagStreamAPI/UserPool","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.230.0","metadata":[]}},"ApiAccessLogs":{"id":"ApiAccessLogs","path":"RagStreamAPI/ApiAccessLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ApiAccessLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":7}}}}},"RagChatApi":{"id":"RagChatApi","path":"RagStreamAPI/RagChatApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"apiKeySourceType":"AUTHORIZER","description":"OpenAI-compatible RAG chat API with streaming support","name":"RAG Chat Stream Backend API"}}},"Deployment":{"id":"Deployment","path":"RagStreamAPI/RagChatApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"OpenAI-compatible RAG chat API with streaming support","restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"RagStreamAPI/RagChatApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"accessLogSetting":{"destinationArn":{"Fn::GetAtt":["ApiAccessLogsE9DF007D","Arn"]},"format":"{\"requestId\":\"$context.requestId\",\"ip\":\"$context.identity.sourceIp\",\"userAgent\":\"$context.identity.userAgent\",\"requestTime\":\"$context.requestTime\",\"httpMethod\":\"$context.httpMethod\",\"resourcePath\":\"$context.resourcePath\",\"status\":\"$context.status\",\"protocol\":\"$context.protocol\",\"responseLength\":\"$context.responseLength\",\"error\":\"$context.error.message\",\"integrationStatus\":\"$context.integrationStatus\",\"apiId\":\"$context.apiId\",\"authorizer\":\"$context.authorizer.principalId\"}"},"deploymentId":{"Ref":"RagChatApiDeployment439075414e9352dabe0f29c101169b2c1c4194b1"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"loggingLevel":"INFO","metricsEnabled":true}],"restApiId":{"Ref":"RagChatApi99D73E1D"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"RagStreamAPI/RagChatApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"Default":{"id":"Default","path":"RagStreamAPI/RagChatApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.230.0","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["RagChatApi99D73E1D","RootResourceId"]},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"v1":{"id":"v1","path":"RagStreamAPI/RagChatApi/Default/v1","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["RagChatApi99D73E1D","RootResourceId"]},"pathPart":"v1","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1BA6F891C"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"knowledge":{"id":"knowledge","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1BA6F891C"},"pathPart":"knowledge","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1knowledge7A457B61"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"create":{"id":"create","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1knowledge7A457B61"},"pathPart":"create","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1knowledgecreate37D4EE34"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"POST":{"id":"POST","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create":{"id":"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/POST/ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["KnowledgeCreateFunction00DF9D29","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/",{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"/POST/v1/knowledge/create"]]}}}},"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create":{"id":"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/POST/ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.knowledge.create","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["KnowledgeCreateFunction00DF9D29","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/test-invoke-stage/POST/v1/knowledge/create"]]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/create/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"CUSTOM","authorizerId":{"Ref":"ApiKeyAuthorizerD0BEAC37"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["KnowledgeCreateFunction00DF9D29","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"RagChatApiv1knowledgecreate37D4EE34"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}}}},"list":{"id":"list","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1knowledge7A457B61"},"pathPart":"list","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1knowledgelist5D80CABD"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"GET":{"id":"GET","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list":{"id":"ApiPermission.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/GET/ApiPermission.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["KnowledgeListFunction8010F62A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/",{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"/GET/v1/knowledge/list"]]}}}},"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list":{"id":"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/GET/ApiPermission.Test.RagStreamAPIRagChatApiC342348C.GET..v1.knowledge.list","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["KnowledgeListFunction8010F62A","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/test-invoke-stage/GET/v1/knowledge/list"]]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/knowledge/list/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"CUSTOM","authorizerId":{"Ref":"ApiKeyAuthorizerD0BEAC37"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["KnowledgeListFunction8010F62A","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"RagChatApiv1knowledgelist5D80CABD"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}}}}}},"agent":{"id":"agent","path":"RagStreamAPI/RagChatApi/Default/v1/agent","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/agent/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1BA6F891C"},"pathPart":"agent","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/agent/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/agent/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1agentBA0284CC"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"create":{"id":"create","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1agentBA0284CC"},"pathPart":"create","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1agentcreateCBB8B104"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"POST":{"id":"POST","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create":{"id":"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/POST/ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AgentCreateFunction5778DBD9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/",{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"/POST/v1/agent/create"]]}}}},"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create":{"id":"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/POST/ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.agent.create","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AgentCreateFunction5778DBD9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/test-invoke-stage/POST/v1/agent/create"]]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/agent/create/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"CUSTOM","authorizerId":{"Ref":"ApiKeyAuthorizerD0BEAC37"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AgentCreateFunction5778DBD9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"RagChatApiv1agentcreateCBB8B104"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}}}}}},"chat":{"id":"chat","path":"RagStreamAPI/RagChatApi/Default/v1/chat","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1BA6F891C"},"pathPart":"chat","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/chat/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1chat82090A87"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"completions":{"id":"completions","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1chat82090A87"},"pathPart":"completions","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1chatcompletions2BA80AD2"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"POST":{"id":"POST","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions":{"id":"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/POST/ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/",{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"/POST/v1/chat/completions"]]}}}},"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions":{"id":"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/POST/ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/test-invoke-stage/POST/v1/chat/completions"]]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"CUSTOM","authorizerId":{"Ref":"ApiKeyAuthorizerD0BEAC37"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2021-11-15/functions/",{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"/response-streaming-invocations"]]},"integrationHttpMethod":"POST","responseTransferMode":"STREAM"},"resourceId":{"Ref":"RagChatApiv1chatcompletions2BA80AD2"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"stream":{"id":"stream","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"RagChatApiv1chatcompletions2BA80AD2"},"pathPart":"stream","restApiId":{"Ref":"RagChatApi99D73E1D"}}}},"OPTIONS":{"id":"OPTIONS","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization,x-api-key,X-API-Key'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"RagChatApiv1chatcompletionsstream44A98D72"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"POST":{"id":"POST","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.230.0","metadata":[]},"children":{"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream":{"id":"ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/POST/ApiPermission.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/",{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"/POST/v1/chat/completions/stream"]]}}}},"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream":{"id":"ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/POST/ApiPermission.Test.RagStreamAPIRagChatApiC342348C.POST..v1.chat.completions.stream","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:381492091301:",{"Ref":"RagChatApi99D73E1D"},"/test-invoke-stage/POST/v1/chat/completions/stream"]]}}}},"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/Default/v1/chat/completions/stream/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"CUSTOM","authorizerId":{"Ref":"ApiKeyAuthorizerD0BEAC37"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2021-11-15/functions/",{"Fn::GetAtt":["ChatStreamFunction0E124B9B","Arn"]},"/response-streaming-invocations"]]},"integrationHttpMethod":"POST","responseTransferMode":"STREAM"},"resourceId":{"Ref":"RagChatApiv1chatcompletionsstream44A98D72"},"restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}}}}}}}}}}}},"LambdaApiKeyV2":{"id":"LambdaApiKeyV2","path":"RagStreamAPI/RagChatApi/LambdaApiKeyV2","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ApiKey","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/LambdaApiKeyV2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnApiKey","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::ApiKey","aws:cdk:cloudformation:props":{"description":"API Key for Lambda endpoint access","enabled":true,"name":"rag-stream-api-key-1764422083","stageKeys":[{"restApiId":{"Ref":"RagChatApi99D73E1D"},"stageName":{"Ref":"RagChatApiDeploymentStageprod22B9D76E"}}],"value":"dev-stream-key-1234567890"}}}}},"LambdaUsagePlan":{"id":"LambdaUsagePlan","path":"RagStreamAPI/RagChatApi/LambdaUsagePlan","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.UsagePlan","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/RagChatApi/LambdaUsagePlan/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlan","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlan","aws:cdk:cloudformation:props":{"apiStages":[{"apiId":{"Ref":"RagChatApi99D73E1D"},"stage":{"Ref":"RagChatApiDeploymentStageprod22B9D76E"},"throttle":{}}],"description":"Usage plan for Lambda API key access","usagePlanName":"Lambda API Usage Plan"}}},"UsagePlanKeyResource:RagStreamAPIRagChatApiLambdaApiKeyV268FC4B8E":{"id":"UsagePlanKeyResource:RagStreamAPIRagChatApiLambdaApiKeyV268FC4B8E","path":"RagStreamAPI/RagChatApi/LambdaUsagePlan/UsagePlanKeyResource:RagStreamAPIRagChatApiLambdaApiKeyV268FC4B8E","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnUsagePlanKey","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::UsagePlanKey","aws:cdk:cloudformation:props":{"keyId":{"Ref":"RagChatApiLambdaApiKeyV2129D118E"},"keyType":"API_KEY","usagePlanId":{"Ref":"RagChatApiLambdaUsagePlanA9138167"}}}}}}}},"Default4xxWithCors":{"id":"Default4xxWithCors","path":"RagStreamAPI/Default4xxWithCors","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.GatewayResponse","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/Default4xxWithCors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnGatewayResponse","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::GatewayResponse","aws:cdk:cloudformation:props":{"responseParameters":{"gatewayresponse.header.Access-Control-Allow-Origin":"'*'","gatewayresponse.header.Access-Control-Allow-Headers":"'*'","gatewayresponse.header.Access-Control-Allow-Methods":"'*'"},"responseType":"DEFAULT_4XX","restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"Default5xxWithCors":{"id":"Default5xxWithCors","path":"RagStreamAPI/Default5xxWithCors","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.GatewayResponse","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/Default5xxWithCors/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnGatewayResponse","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::GatewayResponse","aws:cdk:cloudformation:props":{"responseParameters":{"gatewayresponse.header.Access-Control-Allow-Origin":"'*'","gatewayresponse.header.Access-Control-Allow-Headers":"'*'","gatewayresponse.header.Access-Control-Allow-Methods":"'*'"},"responseType":"DEFAULT_5XX","restApiId":{"Ref":"RagChatApi99D73E1D"}}}}}},"ApiKeyAuthorizer":{"id":"ApiKeyAuthorizer","path":"RagStreamAPI/ApiKeyAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RequestAuthorizer","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ApiKeyAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"authorizerResultTtlInSeconds":0,"authorizerUri":{"Fn::Join":["",["arn:",{"Fn::Select":[1,{"Fn::Split":[":",{"Fn::GetAtt":["ApiKeyAuthorizerFunction06E0AA09","Arn"]}]}]},":apigateway:",{"Fn::Select":[3,{"Fn::Split":[":",{"Fn::GetAtt":["ApiKeyAuthorizerFunction06E0AA09","Arn"]}]}]},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiKeyAuthorizerFunction06E0AA09","Arn"]},"/invocations"]]},"identitySource":"method.request.header.Authorization","name":"RagStreamAPIApiKeyAuthorizerF85D53B5","restApiId":{"Ref":"RagChatApi99D73E1D"},"type":"REQUEST"}}}}},"KnowledgeCreateFunctionErrorRateAlarm":{"id":"KnowledgeCreateFunctionErrorRateAlarm","path":"RagStreamAPI/KnowledgeCreateFunctionErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeCreateFunctionErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda error rate exceeded 5% for KnowledgeCreateFunction","alarmName":"Stream-KnowledgeCreateFunction-ErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(invocations > 0, (errors / invocations) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeCreateFunction00DF9D29"}}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeCreateFunction00DF9D29"}}]},"period":300,"stat":"Sum"},"id":"invocations","returnData":false}],"threshold":5,"treatMissingData":"notBreaching"}}}}},"KnowledgeCreateFunctionHighLatencyAlarm":{"id":"KnowledgeCreateFunctionHighLatencyAlarm","path":"RagStreamAPI/KnowledgeCreateFunctionHighLatencyAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeCreateFunctionHighLatencyAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda p99 latency exceeded 5000ms for KnowledgeCreateFunction","alarmName":"Stream-KnowledgeCreateFunction-Latency-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeCreateFunction00DF9D29"}}],"evaluationPeriods":2,"extendedStatistic":"p99","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":5000,"treatMissingData":"notBreaching"}}}}},"KnowledgeListFunctionErrorRateAlarm":{"id":"KnowledgeListFunctionErrorRateAlarm","path":"RagStreamAPI/KnowledgeListFunctionErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeListFunctionErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda error rate exceeded 5% for KnowledgeListFunction","alarmName":"Stream-KnowledgeListFunction-ErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(invocations > 0, (errors / invocations) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeListFunction8010F62A"}}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeListFunction8010F62A"}}]},"period":300,"stat":"Sum"},"id":"invocations","returnData":false}],"threshold":5,"treatMissingData":"notBreaching"}}}}},"KnowledgeListFunctionHighLatencyAlarm":{"id":"KnowledgeListFunctionHighLatencyAlarm","path":"RagStreamAPI/KnowledgeListFunctionHighLatencyAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeListFunctionHighLatencyAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda p99 latency exceeded 5000ms for KnowledgeListFunction","alarmName":"Stream-KnowledgeListFunction-Latency-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"FunctionName","value":{"Ref":"KnowledgeListFunction8010F62A"}}],"evaluationPeriods":2,"extendedStatistic":"p99","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":5000,"treatMissingData":"notBreaching"}}}}},"AgentCreateFunctionErrorRateAlarm":{"id":"AgentCreateFunctionErrorRateAlarm","path":"RagStreamAPI/AgentCreateFunctionErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentCreateFunctionErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda error rate exceeded 5% for AgentCreateFunction","alarmName":"Stream-AgentCreateFunction-ErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(invocations > 0, (errors / invocations) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"AgentCreateFunction5778DBD9"}}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"AgentCreateFunction5778DBD9"}}]},"period":300,"stat":"Sum"},"id":"invocations","returnData":false}],"threshold":5,"treatMissingData":"notBreaching"}}}}},"AgentCreateFunctionHighLatencyAlarm":{"id":"AgentCreateFunctionHighLatencyAlarm","path":"RagStreamAPI/AgentCreateFunctionHighLatencyAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentCreateFunctionHighLatencyAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda p99 latency exceeded 5000ms for AgentCreateFunction","alarmName":"Stream-AgentCreateFunction-Latency-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"FunctionName","value":{"Ref":"AgentCreateFunction5778DBD9"}}],"evaluationPeriods":2,"extendedStatistic":"p99","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":5000,"treatMissingData":"notBreaching"}}}}},"ChatFunctionErrorRateAlarm":{"id":"ChatFunctionErrorRateAlarm","path":"RagStreamAPI/ChatFunctionErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ChatFunctionErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda error rate exceeded 5% for ChatFunction","alarmName":"Stream-ChatFunction-ErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(invocations > 0, (errors / invocations) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"ChatFunction3D7C447E"}}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"ChatFunction3D7C447E"}}]},"period":300,"stat":"Sum"},"id":"invocations","returnData":false}],"threshold":5,"treatMissingData":"notBreaching"}}}}},"ChatFunctionHighLatencyAlarm":{"id":"ChatFunctionHighLatencyAlarm","path":"RagStreamAPI/ChatFunctionHighLatencyAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ChatFunctionHighLatencyAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda p99 latency exceeded 5000ms for ChatFunction","alarmName":"Stream-ChatFunction-Latency-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"FunctionName","value":{"Ref":"ChatFunction3D7C447E"}}],"evaluationPeriods":2,"extendedStatistic":"p99","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":5000,"treatMissingData":"notBreaching"}}}}},"ChatStreamFunctionErrorRateAlarm":{"id":"ChatStreamFunctionErrorRateAlarm","path":"RagStreamAPI/ChatStreamFunctionErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ChatStreamFunctionErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda error rate exceeded 5% for ChatStreamFunction","alarmName":"Stream-ChatStreamFunction-ErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(invocations > 0, (errors / invocations) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"Errors","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"ChatStreamFunction0E124B9B"}}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Invocations","namespace":"AWS/Lambda","dimensions":[{"name":"FunctionName","value":{"Ref":"ChatStreamFunction0E124B9B"}}]},"period":300,"stat":"Sum"},"id":"invocations","returnData":false}],"threshold":5,"treatMissingData":"notBreaching"}}}}},"ChatStreamFunctionHighLatencyAlarm":{"id":"ChatStreamFunctionHighLatencyAlarm","path":"RagStreamAPI/ChatStreamFunctionHighLatencyAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ChatStreamFunctionHighLatencyAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Lambda p99 latency exceeded 30000ms for ChatStreamFunction","alarmName":"Stream-ChatStreamFunction-Latency-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"dimensions":[{"name":"FunctionName","value":{"Ref":"ChatStreamFunction0E124B9B"}}],"evaluationPeriods":2,"extendedStatistic":"p99","metricName":"Duration","namespace":"AWS/Lambda","period":300,"threshold":30000,"treatMissingData":"notBreaching"}}}}},"ApiGateway5xxErrorRateAlarm":{"id":"ApiGateway5xxErrorRateAlarm","path":"RagStreamAPI/ApiGateway5xxErrorRateAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ApiGateway5xxErrorRateAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"API Gateway 5xx error rate exceeded 1%","alarmName":"Stream-ApiGateway-5xxErrorRate-High","comparisonOperator":"GreaterThanThreshold","datapointsToAlarm":2,"evaluationPeriods":2,"metrics":[{"expression":"IF(requests > 0, (errors / requests) * 100, 0)","id":"expr_1","returnData":true},{"metricStat":{"metric":{"metricName":"5XXError","namespace":"AWS/ApiGateway","dimensions":[{"name":"ApiName","value":"RAG Chat Stream Backend API"}]},"period":300,"stat":"Sum"},"id":"errors","returnData":false},{"metricStat":{"metric":{"metricName":"Count","namespace":"AWS/ApiGateway","dimensions":[{"name":"ApiName","value":"RAG Chat Stream Backend API"}]},"period":300,"stat":"Sum"},"id":"requests","returnData":false}],"threshold":1,"treatMissingData":"notBreaching"}}}}},"AgentsTableReadThrottleAlarm":{"id":"AgentsTableReadThrottleAlarm","path":"RagStreamAPI/AgentsTableReadThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentsTableReadThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB read throttling detected on AgentsTable","alarmName":"Stream-AgentsTable-ReadThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Ref":"AgentsTable78E0948F"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"AgentsTableWriteThrottleAlarm":{"id":"AgentsTableWriteThrottleAlarm","path":"RagStreamAPI/AgentsTableWriteThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentsTableWriteThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB write throttling detected on AgentsTable","alarmName":"Stream-AgentsTable-WriteThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"PutItem"},{"name":"TableName","value":{"Ref":"AgentsTable78E0948F"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"AgentsTableQueryThrottleAlarm":{"id":"AgentsTableQueryThrottleAlarm","path":"RagStreamAPI/AgentsTableQueryThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/AgentsTableQueryThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB query throttling detected on AgentsTable","alarmName":"Stream-AgentsTable-QueryThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"Query"},{"name":"TableName","value":{"Ref":"AgentsTable78E0948F"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"KnowledgeSpacesTableReadThrottleAlarm":{"id":"KnowledgeSpacesTableReadThrottleAlarm","path":"RagStreamAPI/KnowledgeSpacesTableReadThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeSpacesTableReadThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB read throttling detected on KnowledgeSpacesTable","alarmName":"Stream-KnowledgeSpacesTable-ReadThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Ref":"KnowledgeSpacesTable2841007C"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"KnowledgeSpacesTableWriteThrottleAlarm":{"id":"KnowledgeSpacesTableWriteThrottleAlarm","path":"RagStreamAPI/KnowledgeSpacesTableWriteThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeSpacesTableWriteThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB write throttling detected on KnowledgeSpacesTable","alarmName":"Stream-KnowledgeSpacesTable-WriteThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"PutItem"},{"name":"TableName","value":{"Ref":"KnowledgeSpacesTable2841007C"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"KnowledgeSpacesTableQueryThrottleAlarm":{"id":"KnowledgeSpacesTableQueryThrottleAlarm","path":"RagStreamAPI/KnowledgeSpacesTableQueryThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/KnowledgeSpacesTableQueryThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB query throttling detected on KnowledgeSpacesTable","alarmName":"Stream-KnowledgeSpacesTable-QueryThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"Query"},{"name":"TableName","value":{"Ref":"KnowledgeSpacesTable2841007C"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ConversationsTableReadThrottleAlarm":{"id":"ConversationsTableReadThrottleAlarm","path":"RagStreamAPI/ConversationsTableReadThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ConversationsTableReadThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB read throttling detected on ConversationsTable","alarmName":"Stream-ConversationsTable-ReadThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"GetItem"},{"name":"TableName","value":{"Ref":"ConversationsTableCD91EB96"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ConversationsTableWriteThrottleAlarm":{"id":"ConversationsTableWriteThrottleAlarm","path":"RagStreamAPI/ConversationsTableWriteThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ConversationsTableWriteThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB write throttling detected on ConversationsTable","alarmName":"Stream-ConversationsTable-WriteThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"PutItem"},{"name":"TableName","value":{"Ref":"ConversationsTableCD91EB96"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ConversationsTableQueryThrottleAlarm":{"id":"ConversationsTableQueryThrottleAlarm","path":"RagStreamAPI/ConversationsTableQueryThrottleAlarm","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.230.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"RagStreamAPI/ConversationsTableQueryThrottleAlarm/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.230.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"DynamoDB query throttling detected on ConversationsTable","alarmName":"Stream-ConversationsTable-QueryThrottling","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":1,"dimensions":[{"name":"Operation","value":"Query"},{"name":"TableName","value":{"Ref":"ConversationsTableCD91EB96"}}],"evaluationPeriods":1,"metricName":"ThrottledRequests","namespace":"AWS/DynamoDB","period":300,"statistic":"Sum","threshold":1,"treatMissingData":"notBreaching"}}}}},"ApiUrl":{"id":"ApiUrl","path":"RagStreamAPI/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"AgentsTableName":{"id":"AgentsTableName","path":"RagStreamAPI/AgentsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"KnowledgeSpacesTableName":{"id":"KnowledgeSpacesTableName","path":"RagStreamAPI/KnowledgeSpacesTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"ConversationsTableName":{"id":"ConversationsTableName","path":"RagStreamAPI/ConversationsTableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.230.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"RagStreamAPI/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"RagStreamAPI/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.230.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RagStreamAPI/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.230.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RagStreamAPI/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.230.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}